/*
* GTK Colors
* Generated with Matugen
*/
* {
    font-weight: 500;
    font-family: "SF Pro Text", sans-serif;
}

/* 
 * GTK3/4 Matugen Template 
 * Strictly follows adw-gtk3 default structure to prevent broken transparency 
 */

/* --- 1. Standard Definitions --- */
@define-color accent_bg_color {{colors.primary.default.hex}};
@define-color accent_fg_color {{colors.on_primary.default.hex}};
@define-color accent_color {{colors.primary.default.hex}};

@define-color destructive_bg_color {{colors.error.default.hex}};
@define-color destructive_fg_color {{colors.on_error.default.hex}};
@define-color destructive_color {{colors.error.default.hex}};

@define-color success_bg_color #26a269;
@define-color success_fg_color white;
@define-color success_color #26a269;

@define-color warning_bg_color #cd9309;
@define-color warning_fg_color rgba(0, 0, 0, 0.8);
@define-color warning_color #cd9309;

@define-color error_bg_color {{colors.error.default.hex}};
@define-color error_fg_color {{colors.on_error.default.hex}};
@define-color error_color {{colors.error.default.hex}};

/* --- 2. Window & Backgrounds --- */
@define-color window_bg_color {{colors.surface.default.hex}};
@define-color window_fg_color {{colors.on_surface.default.hex}};

@define-color view_bg_color {{colors.surface.default.hex}};
@define-color view_fg_color {{colors.on_surface.default.hex}};

@define-color headerbar_bg_color {{colors.surface_container.default.hex}};
@define-color headerbar_fg_color {{colors.on_surface.default.hex}};
@define-color headerbar_border_color rgba(255, 255, 255, 0.1);
@define-color headerbar_backdrop_color @window_bg_color;
@define-color headerbar_shade_color rgba(0, 0, 0, 0.36);
@define-color headerbar_darker_shade_color rgba(0, 0, 0, 0.9);

@define-color sidebar_bg_color {{colors.surface_container_low.default.hex}};
@define-color sidebar_fg_color {{colors.on_surface.default.hex}};
@define-color sidebar_backdrop_color @window_bg_color;
@define-color sidebar_shade_color rgba(0, 0, 0, 0.25);
@define-color sidebar_border_color rgba(0, 0, 0, 0.36);

@define-color secondary_sidebar_bg_color {{colors.surface_container_lowest.default.hex}};
@define-color secondary_sidebar_fg_color {{colors.on_surface.default.hex}};
@define-color secondary_sidebar_backdrop_color @window_bg_color;
@define-color secondary_sidebar_shade_color rgba(0, 0, 0, 0.25);
@define-color secondary_sidebar_border_color rgba(0, 0, 0, 0.36);

/* --- 3. Cards & Popovers (Preserving Transparency) --- */
/* Using rgba to mimic the 'RGB / 8%' syntax but safe for Matugen */
@define-color card_bg_color rgba(255, 255, 255, 0.08);
@define-color card_fg_color {{colors.on_surface.default.hex}};
@define-color card_shade_color rgba(0, 0, 0, 0.36);

@define-color dialog_bg_color {{colors.surface_container.default.hex}};
@define-color dialog_fg_color {{colors.on_surface.default.hex}};

@define-color popover_bg_color {{colors.surface_container_high.default.hex}};
@define-color popover_fg_color {{colors.on_surface.default.hex}};
@define-color popover_shade_color rgba(0, 0, 0, 0.25);

@define-color thumbnail_bg_color {{colors.surface_container_highest.default.hex}};
@define-color thumbnail_fg_color {{colors.on_surface.default.hex}};

@define-color shade_color rgba(0, 0, 0, 0.25);
@define-color scrollbar_outline_color rgba(0, 0, 0, 0.5);

/* --- 4. GTK3 Variables for adw-gtk3 (CRITICAL for Pavucontrol) --- */
@define-color theme_bg_color @window_bg_color;
@define-color theme_fg_color @window_fg_color;
@define-color theme_base_color @view_bg_color;
@define-color theme_text_color @view_fg_color;
@define-color theme_selected_bg_color @accent_bg_color;
@define-color theme_selected_fg_color @accent_fg_color;
@define-color theme_unfocused_selected_bg_color @accent_bg_color;

@define-color osd_bg_color @popover_bg_color;
@define-color osd_fg_color @popover_fg_color;
@define-color tooltip_bg_color @popover_bg_color;
@define-color tooltip_fg_color @popover_fg_color;

/* --- 5. The :root Block (Replaced with explicit colors to avoid oklab errors) --- */
:root {
    --accent-bg-color: {{colors.primary.default.hex}};
    --accent-fg-color: {{colors.on_primary.default.hex}};
    --accent-color: {{colors.primary.default.hex}};

    --destructive-bg-color: {{colors.error.default.hex}};
    --destructive-fg-color: {{colors.on_error.default.hex}};
    --destructive-color: {{colors.error.default.hex}};

    --success-bg-color: #26a269;
    --success-fg-color: white;
    --success-color: #26a269;

    --warning-bg-color: #cd9309;
    --warning-fg-color: rgba(0, 0, 0, 0.8);
    --warning-color: #cd9309;

    --error-bg-color: {{colors.error.default.hex}};
    --error-fg-color: {{colors.on_error.default.hex}};
    --error-color: {{colors.error.default.hex}};

    --window-bg-color: {{colors.surface.default.hex}};
    --window-fg-color: {{colors.on_surface.default.hex}};
    
    --view-bg-color: {{colors.surface.default.hex}};
    --view-fg-color: {{colors.on_surface.default.hex}};
    
    --headerbar-bg-color: {{colors.surface_container.default.hex}};
    --headerbar-fg-color: {{colors.on_surface.default.hex}};
    
    --card-bg-color: rgba(255, 255, 255, 0.08);
    --card-fg-color: {{colors.on_surface.default.hex}};
    
    --popover-bg-color: {{colors.surface_container_high.default.hex}};
    --popover-fg-color: {{colors.on_surface.default.hex}};
}

/* 
 * FORCE colors on non-Libadwaita GTK4 apps (like Pavucontrol) 
 */
window, 
window.background, 
.background {
    background-color: @window_bg_color;
    color: @window_fg_color;
}

/* Force dialogs and popups too */
dialog, 
.dialog {
    background-color: @dialog_bg_color;
    color: @dialog_fg_color;
}

popover, 
.popover {
    background-color: @popover_bg_color;
    color: @popover_fg_color;
}

/* Fix transparent cards in some GTK4 apps */
list, 
list > row {
    background-color: transparent; 
}

/* If Pavucontrol specifically uses a 'window' node without a class */
window controls {
    background-color: @window_bg_color;
}

/* 
 * FORCE Sliders / Volume Bars for Pavucontrol 
 */

/* The empty background of the slider */

scale trough {
    background-color: alpha(@window_fg_color, 0.15);
    min-height: 6px;
    border-radius: 99px;
    
    /* 
     * Top: 6px (Gap from text above)
     * Right: 0
     * Bottom: 12px (Gap for the knob + breathing room for text below)
     * Left: 0 
     */
    margin: 6px 0 12px 0;
}

/* OPTIONAL: Tighten the text labels below the slider even more */
scale + label {
    margin-top: -4px; /* Pulls the text closer if the above isn't enough */
}

/* The filled part of the slider (Accent Color) */
scale highlight {
    background-image: none;
    background-color: @accent_bg_color;
    border-radius: 99px;
}

/* The little knob/handle (Optional - makes it easier to see) */
scale slider {
    background-color: @window_fg_color;
    min-height: 18px;
    min-width: 18px;
    margin: -6px;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* Hover effects */
scale:hover trough {
    background-color: alpha(@window_fg_color, 0.25);
}

scale:hover highlight {
    background-color: mix(@accent_bg_color, white, 0.1);
}g